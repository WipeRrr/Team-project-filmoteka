{"mappings":"oeACAA,EAAA,SCDA,IAAAC,EAAAD,EAAA,S,qCAKA,MACME,EAAkBC,SAASC,cAAc,YACzCC,EAAeF,SAASC,cAAc,oBACtCE,EAAwBH,SAASC,cAAc,0BAqFrD,SAASG,EAAyCC,EAAaC,GAC3DR,EAAAS,gBAAoCL,GAEpC,MAAMM,EA3FgB,GA2FSC,KAAKC,KA3Fd,EA2FuC,GAAK,GAC5DC,EAAIN,EAAe,EAGrBC,EAAcE,EACdV,EAAAc,qBAAyCP,EAAaF,EAAuBD,GACtEI,GAAeE,GAAKF,GAAeK,EAC1Cb,EAAAe,2BAA+CR,EAAaC,EAAaH,EAAuBD,GAEhGJ,EAAAgB,2BAA+CT,EAAaF,EAAuBD,GAGvFF,SAASC,cAAc,YAAYK,KAAeS,UAAUC,IAAI,2B,CAGpEC,eAAeC,EAAoCZ,GAC/CP,EAAgBoB,UAAY,GAC5BC,EAAAC,QAAWC,WAAahB,GACxB,EAAAiB,EAAAF,U,CAIJ,SAASG,EAAqBC,GACrBA,EAAEC,OAAOX,UAAUY,SAAS,sBAGjC5B,EAAgBoB,UAAY,GAC5BC,EAAAC,QAAWC,WAAaM,OAAOH,EAAEC,OAAOG,cAExC,EAAAN,EAAAF,WAEArB,SAASC,cAAc,YAAYK,eAAeS,UAAUC,IAAI,4B,wDAxG7DC,iBAEH,MAAMZ,EAfV,WACI,MAAMyB,EAAaC,aAAaC,QAAQ,iBAAmB,GAC3D,IAII,OAHyBC,KAAKC,MAAMJ,GACAzB,W,CAGtC,MACE8B,QAAQC,IAAI,U,EAOIC,GAIpB,IAFA,EAAAd,EAAAF,WAEIhB,GAAeiC,GAAyBjC,GAAe,EAMvD,OAJAP,EAAAyC,uBAA2ClC,EAAaH,GACxDF,SAASC,cAAc,cAAcc,UAAUC,IAAI,iCAEnDd,EAAasC,iBAAiB,QAAShB,GAI3CtB,EAAaiB,UAAY,GAEzBrB,EAAAc,qBAAyCP,EAAaF,EAAuBD,GAC7EF,SAASC,cAAc,cAAcc,UAAUC,IAAI,4BAEnD,MAAMyB,EAAUzC,SAASC,cAAc,wBACtBD,SAASC,cAAc,yBAExCwC,EAAQC,UAAW,EAGnBvC,EAAsBqC,iBAAiB,SAAUf,IAG7C,GAFAA,EAAEkB,iBAEGlB,EAAEC,OAAOX,UAAUY,SAAS,qBAAwBF,EAAEC,OAAOX,UAAUY,SAAS,wBAA2BF,EAAEC,OAAOX,UAAUY,SAAS,wBAA5I,CAIA,GAAIF,EAAEC,OAAOX,UAAUY,SAAS,oBAAqB,CAChD,MAAMrB,EAAcsB,OAAOH,EAAEC,OAAOG,aAErCX,EAAoCZ,GACpCF,EAAyCC,EAAaC,GAEtDR,EAAA8C,eAAmCtC,EAAaD,E,CAGpD,GAAIoB,EAAEC,OAAOX,UAAUY,SAAS,uBAAwB,CAEpD,MAAMkB,EAAa7C,SAASC,cAAc,6BAEpC6C,EADmBlB,OAAOiB,EAAWhB,aACH,EAExCX,EAAoC4B,GACpC1C,EAAyCC,EAAayC,GAEtDhD,EAAAiD,oBAAwC,E,CAI5C,GAAItB,EAAEC,OAAOX,UAAUY,SAAS,wBAAyB,CAErD,MAAMkB,EAAa7C,SAASC,cAAc,6BAEpC+C,EADmBpB,OAAOiB,EAAWhB,aACP,EAEpCX,EAAoC8B,GACpC5C,EAAyCC,EAAa2C,GAEtDlD,EAAAmD,qBAAyC5C,E,CAlCzC,C,IDzCZ","sources":["src/index.js","src/js/pagination.js"],"sourcesContent":["// import pageHeaderAutoSize from './js/service/pageheaderautosize';\nimport { mask } from './js/loader';\nimport { paginationFeach } from './js/pagination';\nimport * as teamModal from './js/team-members';\nimport toggleModal from './js/modal';\nimport searchByName from './js/searchByName';\nimport theme from './js/theme';\nimport addToQueueOrWatched from './js/add-to-queue-or-watched'\n\n// pageHeaderAutoSize()\n// toggleModal();\n\npaginationFeach();\n","import * as paginationFunctions from './pagination-functions';\nimport onLoad from './onLoad';\nimport apiService from './apiService';\nimport localstorage from './service/localstorage';\n\nconst NUMBER_PAGINATION = 5;\nconst cardContainerEl = document.querySelector('.gallery');\nconst paginationEl = document.querySelector('.pagination__box');\nconst paginationContainerEl = document.querySelector('.pagination__container')\n\nfunction getTotalPage() {\n    const savedFilms = localStorage.getItem('currentFilms') || {};\n    try {\n        const parsedSavedFilms = JSON.parse(savedFilms);\n        const pageNumber = parsedSavedFilms.total_pages;\n\n        return pageNumber;\n    } catch {\n        console.log('nothing');\n    }\n}\n\n\nexport async function paginationFeach() {\n\n    const total_pages = getTotalPage();\n    \n    onLoad(); \n    \n    if (total_pages <= NUMBER_PAGINATION + 2 && total_pages >= 1) {\n\n        paginationFunctions.displayPaginationSmall(total_pages, paginationEl);\n        document.querySelector('.js-page-1').classList.add('pagination__item--select');\n\n        paginationEl.addEventListener('click', onPaginationBtnClick);\n        return;\n    }\n\n    paginationEl.innerHTML = '';\n    \n    paginationFunctions.displayPaginationBig(total_pages, paginationContainerEl, paginationEl);\n    document.querySelector('.js-page-1').classList.add('pagination__item--select');\n\n    const btnLeft = document.querySelector('.pagination__btnLeft');\n    const btnRight = document.querySelector('.pagination__btnRight');\n\n    btnLeft.disabled = true;\n\n\n    paginationContainerEl.addEventListener('click', (e) => {\n        e.preventDefault();\n\n        if (!e.target.classList.contains('pagination__item') && !e.target.classList.contains('pagination__btnLeft') && !e.target.classList.contains('pagination__btnRight') ) {\n            return;\n        };\n        \n        if (e.target.classList.contains('pagination__item')) {\n             const currentPage = Number(e.target.textContent);        \n        \n            onBigPaginationBtnClickrRenderFilms(currentPage);\n            onBigPaginationBtnClickrRenderPagination(total_pages, currentPage); \n\n            paginationFunctions.activityArrows(currentPage, total_pages);\n        }\n\n        if (e.target.classList.contains('pagination__btnLeft')) {\n               \n            const activePage = document.querySelector('.pagination__item--select');\n            const activePageNumber = Number(activePage.textContent);\n            const previousPage = activePageNumber - 1;\n\n            onBigPaginationBtnClickrRenderFilms(previousPage);\n            onBigPaginationBtnClickrRenderPagination(total_pages, previousPage); \n            \n            paginationFunctions.activityOfLeftArrow(1);\n\n            }\n\n        if (e.target.classList.contains('pagination__btnRight')) {\n             \n            const activePage = document.querySelector('.pagination__item--select');\n            const activePageNumber = Number(activePage.textContent); \n            const nextPage = activePageNumber + 1;\n\n            onBigPaginationBtnClickrRenderFilms(nextPage);\n            onBigPaginationBtnClickrRenderPagination(total_pages, nextPage);    \n            \n            paginationFunctions.activityOfRightArrow(total_pages);\n        }\n       \n    })\n}\n\nfunction onBigPaginationBtnClickrRenderPagination(total_pages, currentPage) {\n    paginationFunctions.clearPagination(paginationEl);\n\n    const n = NUMBER_PAGINATION - (Math.ceil(NUMBER_PAGINATION / 3) - 2);\n    const m = total_pages - (NUMBER_PAGINATION - 1);\n\n\n    if (currentPage < n) {\n        paginationFunctions.displayPaginationBig(total_pages, paginationContainerEl, paginationEl);\n    } else if (currentPage >= n && currentPage <= m) {\n        paginationFunctions.displayPaginationBigMiddle(total_pages, currentPage, paginationContainerEl, paginationEl);\n    } else {\n        paginationFunctions.displayPaginationBigFinish(total_pages, paginationContainerEl, paginationEl);\n    }\n\n    document.querySelector(`.js-page-${currentPage}`).classList.add('pagination__item--select');\n}\n\nasync function onBigPaginationBtnClickrRenderFilms(currentPage) {\n    cardContainerEl.innerHTML = '';\n    apiService.pageNumber = currentPage;\n    onLoad();\n}\n\n\nfunction onPaginationBtnClick(e) {\n    if (!e.target.classList.contains('pagination__item')) {\n        return;\n    }\n    cardContainerEl.innerHTML = '';\n    apiService.pageNumber = Number(e.target.textContent);\n\n    onLoad();\n\n    document.querySelector(`.js-page-${currentPage}`).classList.add('pagination__item--select');\n}   \n\n\n\n\n\n"],"names":["parcelRequire","$1fh5F","$1bab9c519cfa82bc$var$cardContainerEl","document","querySelector","$1bab9c519cfa82bc$var$paginationEl","$1bab9c519cfa82bc$var$paginationContainerEl","$1bab9c519cfa82bc$var$onBigPaginationBtnClickrRenderPagination","total_pages","currentPage","clearPagination","n","Math","ceil","m","displayPaginationBig","displayPaginationBigMiddle","displayPaginationBigFinish","classList","add","async","$1bab9c519cfa82bc$var$onBigPaginationBtnClickrRenderFilms","innerHTML","$iyB0E","default","pageNumber","$8ykkE","$1bab9c519cfa82bc$var$onPaginationBtnClick","e","target","contains","Number","textContent","savedFilms","localStorage","getItem","JSON","parse","console","log","$1bab9c519cfa82bc$var$getTotalPage","$1bab9c519cfa82bc$var$NUMBER_PAGINATION","displayPaginationSmall","addEventListener","btnLeft","disabled","preventDefault","activityArrows","activePage","previousPage","activityOfLeftArrow","nextPage","activityOfRightArrow"],"version":3,"file":"index.d8096ef7.js.map"}