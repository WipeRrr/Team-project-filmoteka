{"mappings":"iiBACAA,EAAA,SCDA,IAAAC,EAAAD,EAAA,S,+DAKA,IACME,EAAkBC,SAASC,cAAc,YACzCC,EAAeF,SAASC,cAAc,oBACtCE,EAAwBH,SAASC,cAAc,0BAC/CG,EAAUJ,SAASC,cAAc,gBAEvC,SAASI,IACL,IAAMC,EAAaC,aAAaC,QAAQ,iBAAmB,GAC3D,IAII,OAHyBC,KAAKC,MAAMJ,GACAK,W,CAGtC,MAAAC,GACEC,QAAQC,IAAI,U,WAKEC,I,OAAAA,EAAfC,EAAAlB,EAAA,CAAAkB,EAAAC,GAAAC,MAAA,SAAAC,I,IAEGR,EAiBOS,EAYPC,EAQGC,EA6CAC,E,yEAjELH,EAAA,WACIlB,EAAasB,oBAAoB,QAASC,GAC1CtB,EAAsBqB,oBAAoB,QAASF,E,EAkB3DA,EAAA,SAA4BV,GAGxB,GAFAA,EAAEc,iBAEGd,EAAEe,OAAOC,UAAUC,SAAS,qBAAwBjB,EAAEe,OAAOC,UAAUC,SAAS,wBAA2BjB,EAAEe,OAAOC,UAAUC,SAAS,wBAA5I,CAIA,GAAIjB,EAAEe,OAAOC,UAAUC,SAAS,oBAAqB,CAChD,IAAMC,EAAcC,OAAOnB,EAAEe,OAAOK,aAErCC,EAAoCH,GACpCI,EAAyCvB,EAAamB,GAEtDK,EAAAC,eAAmCN,EAAanB,E,CAGpD,GAAIC,EAAEe,OAAOC,UAAUC,SAAS,uBAAwB,CAEpD,IAAMQ,EAAarC,SAASC,cAAc,6BAEpCqC,EADmBP,OAAOM,EAAWL,aACH,EAExCC,EAAoCK,GACpCJ,EAAyCvB,EAAa2B,GAEtDH,EAAAI,oBAAwC,E,CAI5C,GAAI3B,EAAEe,OAAOC,UAAUC,SAAS,wBAAyB,CAErD,IAAMW,EAAaxC,SAASC,cAAc,6BAEpCwC,EADmBV,OAAOS,EAAWR,aACP,EAEpCC,EAAoCQ,GACpCP,EAAyCvB,EAAa8B,GAEtDN,EAAAO,qBAAyC/B,E,CAlCzC,C,EAyCRY,EAAA,WACIpB,EAAsBqB,oBAAoB,QAASF,GACnDpB,EAAasB,oBAAoB,QAASC,E,EApFxCd,EAAcN,I,UAEd,EAAAsC,EAAAC,W,YAEFjC,GAAekC,GAAyBlC,GAAe,GAAC,C,uBAExDwB,EAAAW,uBAA2CnC,EAAaT,GACxDF,SAASC,cAAc,cAAc2B,UAAUmB,IAAI,4BAE9B,IAAhBpC,GACGwB,EAAAa,gBAAoC9C,GAE5CA,EAAa+C,iBAAiB,QAASxB,GAGvCrB,EAAQ6C,iBAAiB,SAAU7B,G,2BASvClB,EAAagD,UAAY,GAEzBf,EAAAgB,qBAAyCxC,EAAaR,EAAuBD,GAC7EF,SAASC,cAAc,cAAc2B,UAAUmB,IAAI,4BAE7C1B,EAAUrB,SAASC,cAAc,wBACtBD,SAASC,cAAc,yBAExCoB,EAAQ+B,UAAW,EAGnBjD,EAAsB8C,iBAAiB,QAAS3B,GA6ChDlB,EAAQ6C,iBAAiB,SAAU1B,G,6CAlFF8B,MAAAC,KAAAC,U,CA0FrC,SAASrB,EAAyCvB,EAAamB,G,IAe3D0B,EAdArB,EAAAa,gBAAoC9C,GAEpC,IAAMuD,EAhHgB,GAgHSC,KAAKC,KAhHd,EAgHuC,GAAK,GAC5DC,EAAIjD,EAAe,EAGrBmB,EAAc2B,EACdtB,EAAAgB,qBAAyCxC,EAAaR,EAAuBD,GACtE4B,GAAe2B,GAAK3B,GAAe8B,EAC1CzB,EAAA0B,2BAA+ClD,EAAamB,EAAa3B,EAAuBD,GAEhGiC,EAAA2B,2BAA+CnD,EAAaR,EAAuBD,GAGtC,QAAjDsD,EAAAxD,SAASC,cAAc,YAAwB8D,OAAZjC,WAAc,IAAjD0B,KAAmD5B,UAAUmB,IAAI,2B,UAGtDd,EAAoCH,G,OAApCkC,EAAmCX,MAAAC,KAAAC,U,UAAnCS,I,OAAAA,EAAfhD,EAAAlB,EAAA,CAAAkB,EAAAC,GAAAC,MAAA,SAAAC,EAAmDW,G,yEAC/C/B,EAAgBmD,UAAY,GAC5Be,EAAArB,QAAWsB,WAAapC,E,UAClB,EAAAa,EAAAC,W,4CAHwCS,MAAAC,KAAAC,U,UAOnC9B,EAAqBb,G,OAArBuD,EAAoBd,MAAAC,KAAAC,U,UAApBY,I,OAAAA,EAAfnD,EAAAlB,EAAA,CAAAkB,EAAAC,GAAAC,MAAA,SAAAC,EAAoCP,G,qEAC3BA,EAAEe,OAAOC,UAAUC,SAAS,oBAAmB,C,uDAGpD9B,EAAgBmD,UAAY,GAC5Be,EAAArB,QAAWsB,WAAanC,OAAOnB,EAAEe,OAAOK,a,UAElC,EAAAW,EAAAC,W,OAEN5C,SAASC,cAAc,YAAwB8D,OAAZjC,cAAeF,UAAUmB,IAAI,4B,4CATjCM,MAAAC,KAAAC,U,8EAnHbxC,EAAesC,MAAAC,KAAAC,U,CDZrC,E","sources":["src/index.js","src/js/pagination.js"],"sourcesContent":["// import pageHeaderAutoSize from './js/service/pageheaderautosize';\nimport { mask } from './js/loader';\nimport { paginationFeach } from './js/pagination';\nimport * as teamModal from './js/team-members';\nimport toggleModal from './js/modal';\nimport searchByName from './js/searchByName';\nimport theme from './js/theme';\nimport addToQueueOrWatched from './js/add-to-queue-or-watched'\nimport languageApi from './js/language-changer'\n// pageHeaderAutoSize()\n// toggleModal();\n\npaginationFeach();\n","import * as paginationFunctions from './pagination-functions';\nimport onLoad from './onLoad';\nimport apiService from './apiService';\nimport localstorage from './service/localstorage';\n\nconst NUMBER_PAGINATION = 5;\nconst cardContainerEl = document.querySelector('.gallery');\nconst paginationEl = document.querySelector('.pagination__box');\nconst paginationContainerEl = document.querySelector('.pagination__container')\nconst formRef = document.querySelector('#search-form');\n\nfunction getTotalPage() {\n    const savedFilms = localStorage.getItem('currentFilms') || {};\n    try {\n        const parsedSavedFilms = JSON.parse(savedFilms);\n        const pageNumber = parsedSavedFilms.total_pages;\n\n        return pageNumber;\n    } catch {\n        console.log('nothing');\n    }\n}\n\n\nexport async function paginationFeach() {\n\n    const total_pages = getTotalPage();\n    \n    await onLoad(); \n    \n    if (total_pages <= NUMBER_PAGINATION + 2 && total_pages >= 1) {\n\n        paginationFunctions.displayPaginationSmall(total_pages, paginationEl);\n        document.querySelector('.js-page-1').classList.add('pagination__item--select');\n\n         if (total_pages === 1) {\n                paginationFunctions.clearPagination(paginationEl);\n            }\n        paginationEl.addEventListener('click', onPaginationBtnClick);\n\n\n        formRef.addEventListener('submit', onFormClickSmall);\n\n        function onFormClickSmall() {\n            paginationEl.removeEventListener('click', onPaginationBtnClick);\n            paginationContainerEl.removeEventListener('click', onPaginationClick);\n        }\n        return;\n    }\n\n    paginationEl.innerHTML = '';\n    \n    paginationFunctions.displayPaginationBig(total_pages, paginationContainerEl, paginationEl);\n    document.querySelector('.js-page-1').classList.add('pagination__item--select');\n\n    const btnLeft = document.querySelector('.pagination__btnLeft');\n    const btnRight = document.querySelector('.pagination__btnRight');\n\n    btnLeft.disabled = true;\n\n\n    paginationContainerEl.addEventListener('click', onPaginationClick);\n\n    function onPaginationClick (e) {\n        e.preventDefault();\n\n        if (!e.target.classList.contains('pagination__item') && !e.target.classList.contains('pagination__btnLeft') && !e.target.classList.contains('pagination__btnRight') ) {\n            return;\n        };\n        \n        if (e.target.classList.contains('pagination__item')) {\n             const currentPage = Number(e.target.textContent);        \n        \n            onBigPaginationBtnClickrRenderFilms(currentPage);\n            onBigPaginationBtnClickrRenderPagination(total_pages, currentPage); \n\n            paginationFunctions.activityArrows(currentPage, total_pages);\n        }\n\n        if (e.target.classList.contains('pagination__btnLeft')) {\n               \n            const activePage = document.querySelector('.pagination__item--select');\n            const activePageNumber = Number(activePage.textContent);\n            const previousPage = activePageNumber - 1;\n\n            onBigPaginationBtnClickrRenderFilms(previousPage);\n            onBigPaginationBtnClickrRenderPagination(total_pages, previousPage); \n            \n            paginationFunctions.activityOfLeftArrow(1);\n\n            }\n\n        if (e.target.classList.contains('pagination__btnRight')) {\n             \n            const activePage = document.querySelector('.pagination__item--select');\n            const activePageNumber = Number(activePage.textContent); \n            const nextPage = activePageNumber + 1;\n\n            onBigPaginationBtnClickrRenderFilms(nextPage);\n            onBigPaginationBtnClickrRenderPagination(total_pages, nextPage);    \n            \n            paginationFunctions.activityOfRightArrow(total_pages);\n        }\n       \n    }\n\n    formRef.addEventListener('submit', onFormClick);\n\n    function onFormClick() {\n        paginationContainerEl.removeEventListener('click', onPaginationClick);\n        paginationEl.removeEventListener('click', onPaginationBtnClick);\n    }\n}\n\nfunction onBigPaginationBtnClickrRenderPagination(total_pages, currentPage) {\n    paginationFunctions.clearPagination(paginationEl);\n\n    const n = NUMBER_PAGINATION - (Math.ceil(NUMBER_PAGINATION / 3) - 2);\n    const m = total_pages - (NUMBER_PAGINATION - 1);\n\n\n    if (currentPage < n) {\n        paginationFunctions.displayPaginationBig(total_pages, paginationContainerEl, paginationEl);\n    } else if (currentPage >= n && currentPage <= m) {\n        paginationFunctions.displayPaginationBigMiddle(total_pages, currentPage, paginationContainerEl, paginationEl);\n    } else {\n        paginationFunctions.displayPaginationBigFinish(total_pages, paginationContainerEl, paginationEl);\n    }\n\n    document.querySelector(`.js-page-${currentPage}`)?.classList.add('pagination__item--select');\n}\n\nasync function onBigPaginationBtnClickrRenderFilms(currentPage) {\n    cardContainerEl.innerHTML = '';\n    apiService.pageNumber = currentPage;\n    await onLoad();\n}\n\n\nasync function onPaginationBtnClick(e) {\n    if (!e.target.classList.contains('pagination__item')) {\n        return;\n    }\n    cardContainerEl.innerHTML = '';\n    apiService.pageNumber = Number(e.target.textContent);\n\n    await onLoad();\n\n    document.querySelector(`.js-page-${currentPage}`).classList.add('pagination__item--select');\n}   \n\n\n\n\n\n"],"names":["parcelRequire","$bpxeT","$dfaf77c789ce7a24$var$cardContainerEl","document","querySelector","$dfaf77c789ce7a24$var$paginationEl","$dfaf77c789ce7a24$var$paginationContainerEl","$dfaf77c789ce7a24$var$formRef","$dfaf77c789ce7a24$var$getTotalPage","savedFilms","localStorage","getItem","JSON","parse","total_pages","e","console","log","$dfaf77c789ce7a24$var$_paginationFeach","$parcel$interopDefault","$2TvXO","mark","_callee","onFormClickSmall","btnLeft","onPaginationClick","onFormClick","removeEventListener","$dfaf77c789ce7a24$var$onPaginationBtnClick","preventDefault","target","classList","contains","currentPage","Number","textContent","$dfaf77c789ce7a24$var$onBigPaginationBtnClickrRenderFilms","$dfaf77c789ce7a24$var$onBigPaginationBtnClickrRenderPagination","$fdkM5","activityArrows","activePage","previousPage","activityOfLeftArrow","activePage1","nextPage","activityOfRightArrow","$9JQa4","default","$dfaf77c789ce7a24$var$NUMBER_PAGINATION","displayPaginationSmall","add","clearPagination","addEventListener","innerHTML","displayPaginationBig","disabled","apply","this","arguments","ref","n","Math","ceil","m","displayPaginationBigMiddle","displayPaginationBigFinish","concat","$dfaf77c789ce7a24$var$_onBigPaginationBtnClickrRenderFilms","$dh4R1","pageNumber","$dfaf77c789ce7a24$var$_onPaginationBtnClick"],"version":3,"file":"index.34bf5c80.js.map"}