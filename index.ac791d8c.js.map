{"mappings":"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","sources":["src/index.js","src/js/pagination.js"],"sourcesContent":["// import pageHeaderAutoSize from './js/service/pageheaderautosize';\nimport { mask } from './js/loader';\nimport { paginationFeach } from './js/pagination';\nimport * as teamModal from './js/team-members';\nimport toggleModal from './js/modal';\nimport searchByName from './js/searchByName';\nimport theme from './js/theme';\nimport addToQueueOrWatched from './js/add-to-queue-or-watched'\nimport languageApi from './js/language-changer'\n// pageHeaderAutoSize()\n// toggleModal();\n\npaginationFeach();\n","import * as paginationFunctions from './pagination-functions';\nimport onLoad from './onLoad';\nimport apiService from './apiService';\nimport localstorage from './service/localstorage';\n\nconst NUMBER_PAGINATION = 5;\nconst cardContainerEl = document.querySelector('.gallery');\nconst paginationEl = document.querySelector('.pagination__box');\nconst paginationContainerEl = document.querySelector('.pagination__container')\nconst formRef = document.querySelector('#search-form');\n\nfunction getTotalPage() {\n    const savedFilms = localStorage.getItem('currentFilms') || {};\n    try {\n        const parsedSavedFilms = JSON.parse(savedFilms);\n        const pageNumber = parsedSavedFilms.total_pages;\n\n        return pageNumber;\n    } catch {\n        console.log('nothing');\n    }\n}\n\n\nexport async function paginationFeach() {\n\n    const total_pages = getTotalPage();\n    \n    onLoad(); \n    \n    if (total_pages <= NUMBER_PAGINATION + 2 && total_pages >= 1) {\n\n        paginationFunctions.displayPaginationSmall(total_pages, paginationEl);\n        document.querySelector('.js-page-1').classList.add('pagination__item--select');\n\n        paginationEl.addEventListener('click', onPaginationBtnClick);\n\n\n        formRef.addEventListener('submit', onFormClickSmall);\n\n        function onFormClickSmall() {\n            paginationEl.removeEventListener('click', onPaginationBtnClick);\n            paginationContainerEl.removeEventListener('click', onPaginationClick);\n        }\n        return;\n    }\n\n    paginationEl.innerHTML = '';\n    \n    paginationFunctions.displayPaginationBig(total_pages, paginationContainerEl, paginationEl);\n    document.querySelector('.js-page-1').classList.add('pagination__item--select');\n\n    const btnLeft = document.querySelector('.pagination__btnLeft');\n    const btnRight = document.querySelector('.pagination__btnRight');\n\n    btnLeft.disabled = true;\n\n\n    paginationContainerEl.addEventListener('click', onPaginationClick);\n\n    function onPaginationClick (e) {\n        e.preventDefault();\n\n        if (!e.target.classList.contains('pagination__item') && !e.target.classList.contains('pagination__btnLeft') && !e.target.classList.contains('pagination__btnRight') ) {\n            return;\n        };\n        \n        if (e.target.classList.contains('pagination__item')) {\n             const currentPage = Number(e.target.textContent);        \n        \n            onBigPaginationBtnClickrRenderFilms(currentPage);\n            onBigPaginationBtnClickrRenderPagination(total_pages, currentPage); \n\n            paginationFunctions.activityArrows(currentPage, total_pages);\n        }\n\n        if (e.target.classList.contains('pagination__btnLeft')) {\n               \n            const activePage = document.querySelector('.pagination__item--select');\n            const activePageNumber = Number(activePage.textContent);\n            const previousPage = activePageNumber - 1;\n\n            onBigPaginationBtnClickrRenderFilms(previousPage);\n            onBigPaginationBtnClickrRenderPagination(total_pages, previousPage); \n            \n            paginationFunctions.activityOfLeftArrow(1);\n\n            }\n\n        if (e.target.classList.contains('pagination__btnRight')) {\n             \n            const activePage = document.querySelector('.pagination__item--select');\n            const activePageNumber = Number(activePage.textContent); \n            const nextPage = activePageNumber + 1;\n\n            onBigPaginationBtnClickrRenderFilms(nextPage);\n            onBigPaginationBtnClickrRenderPagination(total_pages, nextPage);    \n            \n            paginationFunctions.activityOfRightArrow(total_pages);\n        }\n       \n    }\n\n    formRef.addEventListener('submit', onFormClick);\n\n    function onFormClick() {\n        paginationContainerEl.removeEventListener('click', onPaginationClick);\n        paginationEl.removeEventListener('click', onPaginationBtnClick);\n    }\n}\n\nfunction onBigPaginationBtnClickrRenderPagination(total_pages, currentPage) {\n    paginationFunctions.clearPagination(paginationEl);\n\n    const n = NUMBER_PAGINATION - (Math.ceil(NUMBER_PAGINATION / 3) - 2);\n    const m = total_pages - (NUMBER_PAGINATION - 1);\n\n\n    if (currentPage < n) {\n        paginationFunctions.displayPaginationBig(total_pages, paginationContainerEl, paginationEl);\n    } else if (currentPage >= n && currentPage <= m) {\n        paginationFunctions.displayPaginationBigMiddle(total_pages, currentPage, paginationContainerEl, paginationEl);\n    } else {\n        paginationFunctions.displayPaginationBigFinish(total_pages, paginationContainerEl, paginationEl);\n    }\n\n    document.querySelector(`.js-page-${currentPage}`)?.classList.add('pagination__item--select');\n}\n\nasync function onBigPaginationBtnClickrRenderFilms(currentPage) {\n    cardContainerEl.innerHTML = '';\n    apiService.pageNumber = currentPage;\n    onLoad();\n}\n\n\nfunction onPaginationBtnClick(e) {\n    if (!e.target.classList.contains('pagination__item')) {\n        return;\n    }\n    cardContainerEl.innerHTML = '';\n    apiService.pageNumber = Number(e.target.textContent);\n\n    onLoad();\n\n    document.querySelector(`.js-page-${currentPage}`).classList.add('pagination__item--select');\n}   \n\n\n\n\n\n"],"names":["parcelRequire","$1fh5F","$1bab9c519cfa82bc$var$cardContainerEl","document","querySelector","$1bab9c519cfa82bc$var$paginationEl","$1bab9c519cfa82bc$var$paginationContainerEl","$1bab9c519cfa82bc$var$formRef","$1bab9c519cfa82bc$var$onBigPaginationBtnClickrRenderPagination","total_pages","currentPage","clearPagination","n","Math","ceil","m","displayPaginationBig","displayPaginationBigMiddle","displayPaginationBigFinish","classList","add","async","$1bab9c519cfa82bc$var$onBigPaginationBtnClickrRenderFilms","innerHTML","$iyB0E","default","pageNumber","$8ykkE","$1bab9c519cfa82bc$var$onPaginationBtnClick","e","target","contains","Number","textContent","savedFilms","localStorage","getItem","JSON","parse","console","log","$1bab9c519cfa82bc$var$getTotalPage","$1bab9c519cfa82bc$var$NUMBER_PAGINATION","displayPaginationSmall","addEventListener","removeEventListener","onPaginationClick","btnLeft","preventDefault","activityArrows","activePage","previousPage","activityOfLeftArrow","nextPage","activityOfRightArrow","disabled"],"version":3,"file":"index.ac791d8c.js.map"}