{"mappings":"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","sources":["src/index.js","src/js/pagination.js"],"sourcesContent":["// import pageHeaderAutoSize from './js/service/pageheaderautosize';\nimport { mask } from './js/loader';\nimport { paginationFeach } from './js/pagination';\nimport * as teamModal from './js/team-members';\nimport toggleModal from './js/modal';\nimport searchByName from './js/searchByName';\nimport theme from './js/theme';\nimport addToQueueOrWatched from './js/add-to-queue-or-watched'\n\n// pageHeaderAutoSize()\n// toggleModal();\n\npaginationFeach();\n","import * as paginationFunctions from './pagination-functions';\nimport onLoad from './onLoad';\nimport apiService from './apiService';\nimport localstorage from './service/localstorage';\n\nconst NUMBER_PAGINATION = 5;\nconst cardContainerEl = document.querySelector('.gallery');\nconst paginationEl = document.querySelector('.pagination__box');\nconst paginationContainerEl = document.querySelector('.pagination__container')\nconst formRef = document.querySelector('#search-form');\n\nfunction getTotalPage() {\n    const savedFilms = localStorage.getItem('currentFilms') || {};\n    try {\n        const parsedSavedFilms = JSON.parse(savedFilms);\n        const pageNumber = parsedSavedFilms.total_pages;\n\n        return pageNumber;\n    } catch {\n        console.log('nothing');\n    }\n}\n\n\nexport async function paginationFeach() {\n\n    const total_pages = getTotalPage();\n    \n    onLoad(); \n    \n    if (total_pages <= NUMBER_PAGINATION + 2 && total_pages >= 1) {\n\n        paginationFunctions.displayPaginationSmall(total_pages, paginationEl);\n        document.querySelector('.js-page-1').classList.add('pagination__item--select');\n\n        paginationEl.addEventListener('click', onPaginationBtnClick);\n\n\n        formRef.addEventListener('submit', onFormClickSmall);\n\n        function onFormClickSmall() {\n            paginationEl.removeEventListener('click', onPaginationBtnClick);\n        }\n        return;\n    }\n\n    paginationEl.innerHTML = '';\n    \n    paginationFunctions.displayPaginationBig(total_pages, paginationContainerEl, paginationEl);\n    document.querySelector('.js-page-1').classList.add('pagination__item--select');\n\n    const btnLeft = document.querySelector('.pagination__btnLeft');\n    const btnRight = document.querySelector('.pagination__btnRight');\n\n    btnLeft.disabled = true;\n\n\n    paginationContainerEl.addEventListener('click', onPaginationClick);\n\n    function onPaginationClick (e) {\n        e.preventDefault();\n\n        if (!e.target.classList.contains('pagination__item') && !e.target.classList.contains('pagination__btnLeft') && !e.target.classList.contains('pagination__btnRight') ) {\n            return;\n        };\n        \n        if (e.target.classList.contains('pagination__item')) {\n             const currentPage = Number(e.target.textContent);        \n        \n            onBigPaginationBtnClickrRenderFilms(currentPage);\n            onBigPaginationBtnClickrRenderPagination(total_pages, currentPage); \n\n            paginationFunctions.activityArrows(currentPage, total_pages);\n        }\n\n        if (e.target.classList.contains('pagination__btnLeft')) {\n               \n            const activePage = document.querySelector('.pagination__item--select');\n            const activePageNumber = Number(activePage.textContent);\n            const previousPage = activePageNumber - 1;\n\n            onBigPaginationBtnClickrRenderFilms(previousPage);\n            onBigPaginationBtnClickrRenderPagination(total_pages, previousPage); \n            \n            paginationFunctions.activityOfLeftArrow(1);\n\n            }\n\n        if (e.target.classList.contains('pagination__btnRight')) {\n             \n            const activePage = document.querySelector('.pagination__item--select');\n            const activePageNumber = Number(activePage.textContent); \n            const nextPage = activePageNumber + 1;\n\n            onBigPaginationBtnClickrRenderFilms(nextPage);\n            onBigPaginationBtnClickrRenderPagination(total_pages, nextPage);    \n            \n            paginationFunctions.activityOfRightArrow(total_pages);\n        }\n       \n    }\n\n    formRef.addEventListener('submit', onFormClick);\n\n    function onFormClick() {\n        paginationContainerEl.removeEventListener('click', onPaginationClick);\n    }\n}\n\nfunction onBigPaginationBtnClickrRenderPagination(total_pages, currentPage) {\n    paginationFunctions.clearPagination(paginationEl);\n\n    const n = NUMBER_PAGINATION - (Math.ceil(NUMBER_PAGINATION / 3) - 2);\n    const m = total_pages - (NUMBER_PAGINATION - 1);\n\n\n    if (currentPage < n) {\n        paginationFunctions.displayPaginationBig(total_pages, paginationContainerEl, paginationEl);\n    } else if (currentPage >= n && currentPage <= m) {\n        paginationFunctions.displayPaginationBigMiddle(total_pages, currentPage, paginationContainerEl, paginationEl);\n    } else {\n        paginationFunctions.displayPaginationBigFinish(total_pages, paginationContainerEl, paginationEl);\n    }\n\n    document.querySelector(`.js-page-${currentPage}`).classList.add('pagination__item--select');\n}\n\nasync function onBigPaginationBtnClickrRenderFilms(currentPage) {\n    cardContainerEl.innerHTML = '';\n    apiService.pageNumber = currentPage;\n    onLoad();\n}\n\n\nfunction onPaginationBtnClick(e) {\n    if (!e.target.classList.contains('pagination__item')) {\n        return;\n    }\n    cardContainerEl.innerHTML = '';\n    apiService.pageNumber = Number(e.target.textContent);\n\n    onLoad();\n\n    document.querySelector(`.js-page-${currentPage}`).classList.add('pagination__item--select');\n}   \n\n\n\n\n\n"],"names":["parcelRequire","$bpxeT","$dfaf77c789ce7a24$var$cardContainerEl","document","querySelector","$dfaf77c789ce7a24$var$paginationEl","$dfaf77c789ce7a24$var$paginationContainerEl","$dfaf77c789ce7a24$var$formRef","$dfaf77c789ce7a24$var$getTotalPage","savedFilms","localStorage","getItem","JSON","parse","total_pages","e","console","log","$dfaf77c789ce7a24$var$_paginationFeach","$parcel$interopDefault","$2TvXO","mark","_callee","onFormClickSmall","btnLeft","onPaginationClick","onFormClick","removeEventListener","$dfaf77c789ce7a24$var$onPaginationBtnClick","preventDefault","target","classList","contains","currentPage","Number","textContent","$dfaf77c789ce7a24$var$onBigPaginationBtnClickrRenderFilms","$dfaf77c789ce7a24$var$onBigPaginationBtnClickrRenderPagination","$fdkM5","activityArrows","activePage","previousPage","activityOfLeftArrow","activePage1","nextPage","activityOfRightArrow","$9JQa4","default","$dfaf77c789ce7a24$var$NUMBER_PAGINATION","displayPaginationSmall","add","addEventListener","innerHTML","displayPaginationBig","disabled","apply","this","arguments","clearPagination","n","Math","ceil","m","displayPaginationBigMiddle","displayPaginationBigFinish","concat","$dfaf77c789ce7a24$var$_onBigPaginationBtnClickrRenderFilms","$dh4R1","pageNumber"],"version":3,"file":"index.e7db4d6b.js.map"}