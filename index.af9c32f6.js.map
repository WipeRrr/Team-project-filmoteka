{"mappings":"oeACAA,EAAA,SCDA,IAAAC,EAAAD,EAAA,S,qCAKA,MACME,EAAkBC,SAASC,cAAc,YACzCC,EAAeF,SAASC,cAAc,oBACtCE,EAAwBH,SAASC,cAAc,0BAqFrD,SAASG,EAAyCC,EAAaC,GAC3DR,EAAAS,gBAAoCL,GAEpC,MAAMM,EA3FgB,GA2FSC,KAAKC,KA3Fd,EA2FuC,GAAK,GAC5DC,EAAIN,EAAe,EAGrBC,EAAcE,EACdV,EAAAc,qBAAyCP,EAAaF,EAAuBD,GACtEI,GAAeE,GAAKF,GAAeK,EAC1Cb,EAAAe,2BAA+CR,EAAaC,EAAaH,EAAuBD,GAEhGJ,EAAAgB,2BAA+CT,EAAaF,EAAuBD,GAGvFF,SAASC,cAAc,YAAYK,KAAeS,UAAUC,IAAI,2B,CAGpEC,eAAeC,EAAoCZ,GAC/CP,EAAgBoB,UAAY,GAC5BC,EAAAC,QAAWC,WAAahB,GACxB,EAAAiB,EAAAF,U,CAIJ,SAASG,EAAqBC,GACrBA,EAAEC,OAAOX,UAAUY,SAAS,sBAGjC5B,EAAgBoB,UAAY,GAC5BC,EAAAC,QAAWC,WAAaM,OAAOH,EAAEC,OAAOG,cAExC,EAAAN,EAAAF,WAEArB,SAASC,cAAc,YAAYK,eAAeS,UAAUC,IAAI,4B,6CC/HpE,IAAAc,EAAAjC,EAAA,SAEA,MAAMkC,EAAgB/B,SAASC,cAAc,UAC7C,IAAI+B,EAAW,KACXC,EAAa,KACjBF,EAAcG,iBAAiB,SAK/B,SAAoBT,GAChB,MAAMC,EAASD,EAAEC,OACXS,EAAKT,EAAOU,QAAQ,OAAOC,QAAQF,GAEzC,GAAkB,iBAAdT,EAAOS,GAEP,OADAG,EAAWZ,GASnB,SAAoBS,GAEhB,MAAMI,EAAwBT,EAAAT,QAAamB,KAAK,gBAC1CC,EAAYC,EAAMC,WAAUC,GAAQA,EAAKT,KAAOP,OAAOO,KACvDU,EAAWH,EAAMI,MAAKF,GAAQA,EAAKT,KAAOP,OAAOO,KAEvD,IAAIY,EAAU,GAEd,IAAK,MAAMC,KAAQT,EAAsBQ,QACjCC,EAAKb,KAAOP,OAAOO,KACnBY,EAAU,CACNE,UAAWD,EAAKC,UAChBC,aAAcF,EAAKE,aACnBC,YAAaH,EAAKG,YAClBC,cAAeJ,EAAKI,cACpBC,MAAOL,EAAKK,MACZC,WAAYN,EAAKM,WACjBC,aAAcP,EAAKO,aACnBC,WAAYR,EAAKQ,WACjBC,SAAUT,EAAKS,SACftB,GAAIa,EAAKb,KAKjBU,GACAH,EAAMgB,OAAOjB,EAAW,GACxBX,EAAAT,QAAasC,KAAK,QAASjB,GAC3BV,EAASjB,UAAU6C,OAAO,uBAC1B5B,EAASH,YAAc,iBAEvBa,EAAMmB,KAAKd,GACXjB,EAAAT,QAAasC,KAAK,QAASjB,GAC3BV,EAASjB,UAAUC,IAAI,uBACvBgB,EAASH,YAAc,iB,CA1ChBiC,CAAW3B,GAEtB,GAAkB,mBAAdT,EAAOS,GAEP,OADAG,EAAWZ,GA2CnB,SAAsBS,GAClB,MAAMI,EAAwBT,EAAAT,QAAamB,KAAK,gBAC1CC,EAAYsB,EAAQpB,WAAUC,GAAQA,EAAKT,KAAOP,OAAOO,KACzDU,EAAWkB,EAAQjB,MAAKF,GAAQA,EAAKT,KAAOP,OAAOO,KAEzD,IAAIY,EAAU,GAEd,IAAK,MAAMiB,KAAQzB,EAAsBQ,QACjCiB,EAAK7B,KAAOP,OAAOO,KACnBY,EAAU,CACNE,UAAWe,EAAKf,UAChBC,aAAcc,EAAKd,aACnBC,YAAaa,EAAKb,YAClBC,cAAeY,EAAKZ,cACpBC,MAAOW,EAAKX,MACZC,WAAYU,EAAKV,WACjBC,aAAcS,EAAKT,aACnBC,WAAYQ,EAAKR,WACjBC,SAAUO,EAAKP,SACftB,GAAI6B,EAAK7B,KAKjBU,GACAkB,EAAQL,OAAOjB,EAAW,GAC1BX,EAAAT,QAAasC,KAAK,UAAWI,GAC7B9B,EAAWlB,UAAU6C,OAAO,uBAC5B3B,EAAWJ,YAAc,mBAEzBkC,EAAQF,KAAKd,GACbjB,EAAAT,QAAasC,KAAK,UAAWI,GAC7B9B,EAAWlB,UAAUC,IAAI,uBACzBiB,EAAWJ,YAAc,mB,CA3ElBoC,CAAa9B,E,IAb5B,MAAMO,EAAQZ,EAAAT,QAAamB,KAAK,UAAY,GACtCuB,EAAUjC,EAAAT,QAAamB,KAAK,YAAc,GA2FhD,SAASF,EAAWZ,GACE,iBAAdA,EAAOS,GAIO,mBAAdT,EAAOS,KACPF,EAAaP,GAJbM,EAAWN,C,ED9EZT,iBAEH,MAAMZ,EAfV,WACI,MAAM6D,EAAaC,aAAaC,QAAQ,iBAAmB,GAC3D,IAII,OAHyBC,KAAKC,MAAMJ,GACA7D,W,CAGtC,MACEkE,QAAQC,IAAI,U,EAOIC,GAIpB,IAFA,EAAAlD,EAAAF,WAEIhB,GAAeqE,GAAyBrE,GAAe,EAMvD,OAJAP,EAAA6E,uBAA2CtE,EAAaH,GACxDF,SAASC,cAAc,cAAcc,UAAUC,IAAI,iCAEnDd,EAAagC,iBAAiB,QAASV,GAI3CtB,EAAaiB,UAAY,GAEzBrB,EAAAc,qBAAyCP,EAAaF,EAAuBD,GAC7EF,SAASC,cAAc,cAAcc,UAAUC,IAAI,4BAEnD,MAAM4D,EAAU5E,SAASC,cAAc,wBACtBD,SAASC,cAAc,yBAExC2E,EAAQC,UAAW,EAGnB1E,EAAsB+B,iBAAiB,SAAUT,IAG7C,GAFAA,EAAEqD,iBAEGrD,EAAEC,OAAOX,UAAUY,SAAS,qBAAwBF,EAAEC,OAAOX,UAAUY,SAAS,wBAA2BF,EAAEC,OAAOX,UAAUY,SAAS,wBAA5I,CAIA,GAAIF,EAAEC,OAAOX,UAAUY,SAAS,oBAAqB,CAChD,MAAMrB,EAAcsB,OAAOH,EAAEC,OAAOG,aAErCX,EAAoCZ,GACpCF,EAAyCC,EAAaC,GAEtDR,EAAAiF,eAAmCzE,EAAaD,E,CAGpD,GAAIoB,EAAEC,OAAOX,UAAUY,SAAS,uBAAwB,CAEpD,MAAMqD,EAAahF,SAASC,cAAc,6BAEpCgF,EADmBrD,OAAOoD,EAAWnD,aACH,EAExCX,EAAoC+D,GACpC7E,EAAyCC,EAAa4E,GAEtDnF,EAAAoF,oBAAwC,E,CAI5C,GAAIzD,EAAEC,OAAOX,UAAUY,SAAS,wBAAyB,CAErD,MAAMqD,EAAahF,SAASC,cAAc,6BAEpCkF,EADmBvD,OAAOoD,EAAWnD,aACP,EAEpCX,EAAoCiE,GACpC/E,EAAyCC,EAAa8E,GAEtDrF,EAAAsF,qBAAyC/E,E,CAlCzC,C,IDzCZ","sources":["src/index.js","src/js/pagination.js","src/js/add-to-queue-or-watched.js"],"sourcesContent":["// import pageHeaderAutoSize from './js/service/pageheaderautosize';\nimport { mask } from './js/loader';\nimport { paginationFeach } from './js/pagination';\nimport * as teamModal from './js/team-members';\nimport toggleModal from './js/modal';\nimport searchByName from './js/searchByName';\nimport theme from './js/theme';\nimport addToQueueOrWatched from './js/add-to-queue-or-watched'\n\n// pageHeaderAutoSize()\n// toggleModal();\n\npaginationFeach();\n","import * as paginationFunctions from './pagination-functions';\nimport onLoad from './onLoad';\nimport apiService from './apiService';\nimport localstorage from './service/localstorage';\n\nconst NUMBER_PAGINATION = 5;\nconst cardContainerEl = document.querySelector('.gallery');\nconst paginationEl = document.querySelector('.pagination__box');\nconst paginationContainerEl = document.querySelector('.pagination__container')\n\nfunction getTotalPage() {\n    const savedFilms = localStorage.getItem('currentFilms') || {};\n    try {\n        const parsedSavedFilms = JSON.parse(savedFilms);\n        const pageNumber = parsedSavedFilms.total_pages;\n\n        return pageNumber;\n    } catch {\n        console.log('nothing');\n    }\n}\n\n\nexport async function paginationFeach() {\n\n    const total_pages = getTotalPage();\n    \n    onLoad(); \n    \n    if (total_pages <= NUMBER_PAGINATION + 2 && total_pages >= 1) {\n\n        paginationFunctions.displayPaginationSmall(total_pages, paginationEl);\n        document.querySelector('.js-page-1').classList.add('pagination__item--select');\n\n        paginationEl.addEventListener('click', onPaginationBtnClick);\n        return;\n    }\n\n    paginationEl.innerHTML = '';\n    \n    paginationFunctions.displayPaginationBig(total_pages, paginationContainerEl, paginationEl);\n    document.querySelector('.js-page-1').classList.add('pagination__item--select');\n\n    const btnLeft = document.querySelector('.pagination__btnLeft');\n    const btnRight = document.querySelector('.pagination__btnRight');\n\n    btnLeft.disabled = true;\n\n\n    paginationContainerEl.addEventListener('click', (e) => {\n        e.preventDefault();\n\n        if (!e.target.classList.contains('pagination__item') && !e.target.classList.contains('pagination__btnLeft') && !e.target.classList.contains('pagination__btnRight') ) {\n            return;\n        };\n        \n        if (e.target.classList.contains('pagination__item')) {\n             const currentPage = Number(e.target.textContent);        \n        \n            onBigPaginationBtnClickrRenderFilms(currentPage);\n            onBigPaginationBtnClickrRenderPagination(total_pages, currentPage); \n\n            paginationFunctions.activityArrows(currentPage, total_pages);\n        }\n\n        if (e.target.classList.contains('pagination__btnLeft')) {\n               \n            const activePage = document.querySelector('.pagination__item--select');\n            const activePageNumber = Number(activePage.textContent);\n            const previousPage = activePageNumber - 1;\n\n            onBigPaginationBtnClickrRenderFilms(previousPage);\n            onBigPaginationBtnClickrRenderPagination(total_pages, previousPage); \n            \n            paginationFunctions.activityOfLeftArrow(1);\n\n            }\n\n        if (e.target.classList.contains('pagination__btnRight')) {\n             \n            const activePage = document.querySelector('.pagination__item--select');\n            const activePageNumber = Number(activePage.textContent); \n            const nextPage = activePageNumber + 1;\n\n            onBigPaginationBtnClickrRenderFilms(nextPage);\n            onBigPaginationBtnClickrRenderPagination(total_pages, nextPage);    \n            \n            paginationFunctions.activityOfRightArrow(total_pages);\n        }\n       \n    })\n}\n\nfunction onBigPaginationBtnClickrRenderPagination(total_pages, currentPage) {\n    paginationFunctions.clearPagination(paginationEl);\n\n    const n = NUMBER_PAGINATION - (Math.ceil(NUMBER_PAGINATION / 3) - 2);\n    const m = total_pages - (NUMBER_PAGINATION - 1);\n\n\n    if (currentPage < n) {\n        paginationFunctions.displayPaginationBig(total_pages, paginationContainerEl, paginationEl);\n    } else if (currentPage >= n && currentPage <= m) {\n        paginationFunctions.displayPaginationBigMiddle(total_pages, currentPage, paginationContainerEl, paginationEl);\n    } else {\n        paginationFunctions.displayPaginationBigFinish(total_pages, paginationContainerEl, paginationEl);\n    }\n\n    document.querySelector(`.js-page-${currentPage}`).classList.add('pagination__item--select');\n}\n\nasync function onBigPaginationBtnClickrRenderFilms(currentPage) {\n    cardContainerEl.innerHTML = '';\n    apiService.pageNumber = currentPage;\n    onLoad();\n}\n\n\nfunction onPaginationBtnClick(e) {\n    if (!e.target.classList.contains('pagination__item')) {\n        return;\n    }\n    cardContainerEl.innerHTML = '';\n    apiService.pageNumber = Number(e.target.textContent);\n\n    onLoad();\n\n    document.querySelector(`.js-page-${currentPage}`).classList.add('pagination__item--select');\n}   \n\n\n\n\n\n","import localstorage from \"./service/localstorage\";\n\nconst filmContainer = document.querySelector('.modal');\nlet queueBtn = null;\nlet watchedBtn = null;\nfilmContainer.addEventListener('click', onClickBtn) \n\nconst queue = localstorage.load('queue') || [];\nconst watched = localstorage.load('watched') || [];\n\nfunction onClickBtn(e) {\n    const target = e.target;\n    const id = target.closest('div').dataset.id;\n\n    if (target.id === 'queueInModal') {\n        getBtnRefs(target)\n        return addToQueue(id);\n    };\n    if (target.id === 'watchedInModal') {\n        getBtnRefs(target)\n        return addToWatched(id);\n    };\n};\n\nfunction addToQueue(id) {\n    // console.log(id);\n    const filmsFromLocalStorage = localstorage.load('currentFilms');\n    const indexFilm = queue.findIndex(film => film.id === Number(id));\n    const findFilm = queue.find(film => film.id === Number(id));\n\n    let results = {};\n\n    for (const film of filmsFromLocalStorage.results) {\n        if (film.id === Number(id)) {\n            results = {\n                genre_ids: film.genre_ids,\n                release_date: film.release_date,\n                poster_path: film.poster_path,\n                backdrop_path: film.backdrop_path,\n                title: film.title,\n                popularity: film.popularity,\n                vote_average: film.vote_average,\n                vote_count: film.vote_count,\n                overview: film.overview,\n                id: film.id,\n            };\n        };\n    };\n    \n    if (findFilm) {\n        queue.splice(indexFilm, 1);\n        localstorage.save('queue', queue);\n        queueBtn.classList.remove('button-list--active');\n        queueBtn.textContent = 'Add to queue';\n    } else {\n        queue.push(results);\n        localstorage.save('queue', queue);\n        queueBtn.classList.add('button-list--active');\n        queueBtn.textContent = 'Added to queue';\n    };\n};\n\nfunction addToWatched(id) {\n    const filmsFromLocalStorage = localstorage.load('currentFilms');\n    const indexFilm = watched.findIndex(film => film.id === Number(id));\n    const findFilm = watched.find(film => film.id === Number(id));\n\n    let results = {};\n\n    for (const film of filmsFromLocalStorage.results) {\n        if (film.id === Number(id)) {\n            results = {\n                genre_ids: film.genre_ids,\n                release_date: film.release_date,\n                poster_path: film.poster_path,\n                backdrop_path: film.backdrop_path,\n                title: film.title,\n                popularity: film.popularity,\n                vote_average: film.vote_average,\n                vote_count: film.vote_count,\n                overview: film.overview,\n                id: film.id,\n            };\n        };\n    };\n    \n    if (findFilm) {\n        watched.splice(indexFilm, 1);\n        localstorage.save('watched', watched);\n        watchedBtn.classList.remove('button-list--active');\n        watchedBtn.textContent = 'Add to watched';\n    } else {\n        watched.push(results);\n        localstorage.save('watched', watched);\n        watchedBtn.classList.add('button-list--active');\n        watchedBtn.textContent = 'Added to watched';\n    };\n};\n\nfunction getBtnRefs(target) {\n    if (target.id === 'queueInModal') {\n        queueBtn = target;\n        return;\n    };\n    if (target.id === 'watchedInModal') {\n        watchedBtn = target;\n        return;\n    };\n};\n\n"],"names":["parcelRequire","$1fh5F","$1bab9c519cfa82bc$var$cardContainerEl","document","querySelector","$1bab9c519cfa82bc$var$paginationEl","$1bab9c519cfa82bc$var$paginationContainerEl","$1bab9c519cfa82bc$var$onBigPaginationBtnClickrRenderPagination","total_pages","currentPage","clearPagination","n","Math","ceil","m","displayPaginationBig","displayPaginationBigMiddle","displayPaginationBigFinish","classList","add","async","$1bab9c519cfa82bc$var$onBigPaginationBtnClickrRenderFilms","innerHTML","$iyB0E","default","pageNumber","$8ykkE","$1bab9c519cfa82bc$var$onPaginationBtnClick","e","target","contains","Number","textContent","$ccqIN","$003ca68f45fbeff5$var$filmContainer","$003ca68f45fbeff5$var$queueBtn","$003ca68f45fbeff5$var$watchedBtn","addEventListener","id","closest","dataset","$003ca68f45fbeff5$var$getBtnRefs","filmsFromLocalStorage","load","indexFilm","$003ca68f45fbeff5$var$queue","findIndex","film","findFilm","find","results","film1","genre_ids","release_date","poster_path","backdrop_path","title","popularity","vote_average","vote_count","overview","splice","save","remove","push","$003ca68f45fbeff5$var$addToQueue","$003ca68f45fbeff5$var$watched","film2","$003ca68f45fbeff5$var$addToWatched","savedFilms","localStorage","getItem","JSON","parse","console","log","$1bab9c519cfa82bc$var$getTotalPage","$1bab9c519cfa82bc$var$NUMBER_PAGINATION","displayPaginationSmall","btnLeft","disabled","preventDefault","activityArrows","activePage","previousPage","activityOfLeftArrow","nextPage","activityOfRightArrow"],"version":3,"file":"index.af9c32f6.js.map"}