{"mappings":"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","sources":["src/index.js","src/js/pagination.js"],"sourcesContent":["// import pageHeaderAutoSize from './js/service/pageheaderautosize';\nimport { mask } from './js/loader';\nimport { paginationFeach } from './js/pagination';\nimport * as teamModal from './js/team-members';\nimport toggleModal from './js/modal';\nimport searchByName from './js/searchByName';\nimport theme from './js/theme';\nimport addToQueueOrWatched from './js/add-to-queue-or-watched'\nimport languageApi from './js/language-changer'\n// pageHeaderAutoSize()\n// toggleModal();\n\npaginationFeach();\n","import * as paginationFunctions from './pagination-functions';\nimport onLoad from './onLoad';\nimport apiService from './apiService';\nimport localstorage from './service/localstorage';\n\nconst NUMBER_PAGINATION = 5;\nconst cardContainerEl = document.querySelector('.gallery');\nconst paginationEl = document.querySelector('.pagination__box');\nconst paginationContainerEl = document.querySelector('.pagination__container')\nconst formRef = document.querySelector('#search-form');\n\nfunction getFilmsFromStoradge() {\n    const savedFilms = localStorage.getItem('currentFilms') || {};\n    try {\n        const parsedSavedFilms = JSON.parse(savedFilms);\n        const pageNumber = parsedSavedFilms.total_pages;\n\n        return pageNumber;\n    } catch {\n        console.log('nothing');\n    }\n}\n\nexport async function paginationFeach() {\n\n    const totalPages = getFilmsFromStoradge();\n    \n    await onLoad(); \n    \n    if (totalPages <= NUMBER_PAGINATION + 2 && totalPages >= 1) {\n\n        paginationFunctions.displayPaginationSmall(totalPages, paginationEl);\n        document.querySelector('.js-page-1').classList.add('pagination__item--select');\n\n         if (totalPages === 1) {\n                paginationFunctions.clearPagination(paginationEl);\n         }\n        \n        paginationEl.addEventListener('click', onPaginationBtnClick);\n        formRef.addEventListener('submit', onFormClickSmall);\n\n        function onFormClickSmall() {\n            paginationEl.removeEventListener('click', onPaginationBtnClick);\n            paginationContainerEl.removeEventListener('click', onPaginationClick);\n        }\n        return;\n    }\n\n    paginationEl.innerHTML = '';\n    \n    paginationFunctions.displayPaginationBig(totalPages, paginationContainerEl, paginationEl);\n    document.querySelector('.js-page-1').classList.add('pagination__item--select');\n\n    const btnLeft = document.querySelector('.pagination__btnLeft');\n    const btnRight = document.querySelector('.pagination__btnRight');\n\n    btnLeft.disabled = true;\n\n    paginationContainerEl.addEventListener('click', onPaginationClick);\n\n    function onPaginationClick (e) {\n        e.preventDefault();\n\n        if (!e.target.classList.contains('pagination__item') && !e.target.classList.contains('pagination__btnLeft') && !e.target.classList.contains('pagination__btnRight') ) {\n            return;\n        };\n        \n        if (e.target.classList.contains('pagination__item')) {\n             const currentPage = Number(e.target.textContent);        \n        \n            onBigPaginationBtnClickrRenderFilms(currentPage);\n            onBigPaginationBtnClickrRenderPagination(totalPages, currentPage); \n\n            paginationFunctions.activityArrows(currentPage, totalPages);\n        }\n\n        if (e.target.classList.contains('pagination__btnLeft')) {\n               \n            const activePage = document.querySelector('.pagination__item--select');\n            const activePageNumber = Number(activePage.textContent);\n            const previousPage = activePageNumber - 1;\n\n            onBigPaginationBtnClickrRenderFilms(previousPage);\n            onBigPaginationBtnClickrRenderPagination(totalPages, previousPage); \n            \n            paginationFunctions.activityOfLeftArrow(1);\n            }\n\n        if (e.target.classList.contains('pagination__btnRight')) {\n             \n            const activePage = document.querySelector('.pagination__item--select');\n            const activePageNumber = Number(activePage.textContent); \n            const nextPage = activePageNumber + 1;\n\n            onBigPaginationBtnClickrRenderFilms(nextPage);\n            onBigPaginationBtnClickrRenderPagination(totalPages, nextPage);    \n            \n            paginationFunctions.activityOfRightArrow(totalPages);\n        }\n    }\n\n    formRef.addEventListener('submit', onFormClick);\n\n    function onFormClick() {\n        paginationContainerEl.removeEventListener('click', onPaginationClick);\n        paginationEl.removeEventListener('click', onPaginationBtnClick);\n    }\n}\n\nfunction onBigPaginationBtnClickrRenderPagination(totalPages, currentPage) {\n    paginationFunctions.clearPagination(paginationEl);\n\n    const n = NUMBER_PAGINATION - (Math.ceil(NUMBER_PAGINATION / 3) - 2);\n    const m = totalPages - (NUMBER_PAGINATION - 1);\n\n\n    if (currentPage < n) {\n        paginationFunctions.displayPaginationBig(totalPages, paginationContainerEl, paginationEl);\n    } else if (currentPage >= n && currentPage <= m) {\n        paginationFunctions.displayPaginationBigMiddle(totalPages, currentPage, paginationContainerEl, paginationEl);\n    } else {\n        paginationFunctions.displayPaginationBigFinish(totalPages, paginationContainerEl, paginationEl);\n    }\n\n    document.querySelector(`.js-page-${currentPage}`)?.classList.add('pagination__item--select');\n}\n\nasync function onBigPaginationBtnClickrRenderFilms(currentPage) {\n    cardContainerEl.innerHTML = '';\n    apiService.pageNumber = currentPage;\n    await onLoad();\n}\n\n\nasync function onPaginationBtnClick(e) {\n    if (!e.target.classList.contains('pagination__item')) {\n        return;\n    }\n    cardContainerEl.innerHTML = '';\n    apiService.pageNumber = Number(e.target.textContent);\n\n    await onLoad();\n\n    document.querySelector(`.js-page-${currentPage}`).classList.add('pagination__item--select');\n}   \n\n\n\n"],"names":["parcelRequire","$1fh5F","$1bab9c519cfa82bc$var$cardContainerEl","document","querySelector","$1bab9c519cfa82bc$var$paginationEl","$1bab9c519cfa82bc$var$paginationContainerEl","$1bab9c519cfa82bc$var$formRef","$1bab9c519cfa82bc$var$onBigPaginationBtnClickrRenderPagination","totalPages","currentPage","clearPagination","n","Math","ceil","m","displayPaginationBig","displayPaginationBigMiddle","displayPaginationBigFinish","classList","add","async","$1bab9c519cfa82bc$var$onBigPaginationBtnClickrRenderFilms","innerHTML","$iyB0E","default","pageNumber","$8ykkE","$1bab9c519cfa82bc$var$onPaginationBtnClick","e","target","contains","Number","textContent","savedFilms","localStorage","getItem","JSON","parse","total_pages","console","log","$1bab9c519cfa82bc$var$getFilmsFromStoradge","$1bab9c519cfa82bc$var$NUMBER_PAGINATION","displayPaginationSmall","addEventListener","removeEventListener","onPaginationClick","btnLeft","preventDefault","activityArrows","activePage","previousPage","activityOfLeftArrow","nextPage","activityOfRightArrow","disabled"],"version":3,"file":"index.56d5f7ab.js.map"}