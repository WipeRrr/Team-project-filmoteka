{"mappings":"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","sources":["src/index.js","src/js/pagination.js"],"sourcesContent":["// import pageHeaderAutoSize from './js/service/pageheaderautosize';\nimport { mask } from './js/loader';\nimport { paginationFeach } from './js/pagination';\nimport * as teamModal from './js/team-members';\nimport toggleModal from './js/modal';\nimport searchByName from './js/searchByName';\nimport theme from './js/theme';\nimport addToQueueOrWatched from './js/add-to-queue-or-watched'\n\n// pageHeaderAutoSize()\n// toggleModal();\n\npaginationFeach();\n","import * as paginationFunctions from './pagination-functions';\nimport onLoad from './onLoad';\nimport apiService from './apiService';\nimport localstorage from './service/localstorage';\n\nconst NUMBER_PAGINATION = 5;\nconst cardContainerEl = document.querySelector('.gallery');\nconst paginationEl = document.querySelector('.pagination__box');\nconst paginationContainerEl = document.querySelector('.pagination__container')\n\nfunction getTotalPage() {\n    const savedFilms = localStorage.getItem('currentFilms') || {};\n    try {\n        const parsedSavedFilms = JSON.parse(savedFilms);\n        const pageNumber = parsedSavedFilms.total_pages;\n\n        return pageNumber;\n    } catch {\n        console.log('nothing');\n    }\n}\n\n\nexport async function paginationFeach() {\n\n    const total_pages = getTotalPage();\n    \n    onLoad(); \n    \n    if (total_pages <= NUMBER_PAGINATION + 2 && total_pages >= 1) {\n\n        paginationFunctions.displayPaginationSmall(total_pages, paginationEl);\n        document.querySelector('.js-page-1').classList.add('pagination__item--select');\n\n        paginationEl.addEventListener('click', onPaginationBtnClick);\n        return;\n    }\n\n    paginationEl.innerHTML = '';\n    \n    paginationFunctions.displayPaginationBig(total_pages, paginationContainerEl, paginationEl);\n    document.querySelector('.js-page-1').classList.add('pagination__item--select');\n\n    const btnLeft = document.querySelector('.pagination__btnLeft');\n    const btnRight = document.querySelector('.pagination__btnRight');\n\n    btnLeft.disabled = true;\n\n\n    paginationContainerEl.addEventListener('click', (e) => {\n        e.preventDefault();\n\n        if (!e.target.classList.contains('pagination__item') && !e.target.classList.contains('pagination__btnLeft') && !e.target.classList.contains('pagination__btnRight') ) {\n            return;\n        };\n        \n        if (e.target.classList.contains('pagination__item')) {\n             const currentPage = Number(e.target.textContent);        \n        \n            onBigPaginationBtnClickrRenderFilms(currentPage);\n            onBigPaginationBtnClickrRenderPagination(total_pages, currentPage); \n\n            paginationFunctions.activityArrows(currentPage, total_pages);\n        }\n\n        if (e.target.classList.contains('pagination__btnLeft')) {\n               \n            const activePage = document.querySelector('.pagination__item--select');\n            const activePageNumber = Number(activePage.textContent);\n            const previousPage = activePageNumber - 1;\n\n            onBigPaginationBtnClickrRenderFilms(previousPage);\n            onBigPaginationBtnClickrRenderPagination(total_pages, previousPage); \n            \n            paginationFunctions.activityOfLeftArrow(1);\n\n            }\n\n        if (e.target.classList.contains('pagination__btnRight')) {\n             \n            const activePage = document.querySelector('.pagination__item--select');\n            const activePageNumber = Number(activePage.textContent); \n            const nextPage = activePageNumber + 1;\n\n            onBigPaginationBtnClickrRenderFilms(nextPage);\n            onBigPaginationBtnClickrRenderPagination(total_pages, nextPage);    \n            \n            paginationFunctions.activityOfRightArrow(total_pages);\n        }\n       \n    })\n}\n\nfunction onBigPaginationBtnClickrRenderPagination(total_pages, currentPage) {\n    paginationFunctions.clearPagination(paginationEl);\n\n    const n = NUMBER_PAGINATION - (Math.ceil(NUMBER_PAGINATION / 3) - 2);\n    const m = total_pages - (NUMBER_PAGINATION - 1);\n\n\n    if (currentPage < n) {\n        paginationFunctions.displayPaginationBig(total_pages, paginationContainerEl, paginationEl);\n    } else if (currentPage >= n && currentPage <= m) {\n        paginationFunctions.displayPaginationBigMiddle(total_pages, currentPage, paginationContainerEl, paginationEl);\n    } else {\n        paginationFunctions.displayPaginationBigFinish(total_pages, paginationContainerEl, paginationEl);\n    }\n\n    document.querySelector(`.js-page-${currentPage}`).classList.add('pagination__item--select');\n}\n\nasync function onBigPaginationBtnClickrRenderFilms(currentPage) {\n    cardContainerEl.innerHTML = '';\n    apiService.pageNumber = currentPage;\n    onLoad();\n}\n\n\nfunction onPaginationBtnClick(e) {\n    if (!e.target.classList.contains('pagination__item')) {\n        return;\n    }\n    cardContainerEl.innerHTML = '';\n    apiService.pageNumber = Number(e.target.textContent);\n\n    onLoad();\n\n    document.querySelector(`.js-page-${currentPage}`).classList.add('pagination__item--select');\n}   \n\n\n\n\n\n"],"names":["parcelRequire","$bpxeT","$dfaf77c789ce7a24$var$cardContainerEl","document","querySelector","$dfaf77c789ce7a24$var$paginationEl","$dfaf77c789ce7a24$var$paginationContainerEl","$dfaf77c789ce7a24$var$getTotalPage","savedFilms","localStorage","getItem","JSON","parse","total_pages","e","console","log","$dfaf77c789ce7a24$var$_paginationFeach","$parcel$interopDefault","$2TvXO","mark","_callee","btnLeft","$9JQa4","default","$dfaf77c789ce7a24$var$NUMBER_PAGINATION","$fdkM5","displayPaginationSmall","classList","add","addEventListener","$dfaf77c789ce7a24$var$onPaginationBtnClick","innerHTML","displayPaginationBig","disabled","preventDefault","target","contains","currentPage","Number","textContent","$dfaf77c789ce7a24$var$onBigPaginationBtnClickrRenderFilms","$dfaf77c789ce7a24$var$onBigPaginationBtnClickrRenderPagination","activityArrows","activePage","previousPage","activityOfLeftArrow","activePage1","nextPage","activityOfRightArrow","apply","this","arguments","clearPagination","n","Math","ceil","m","displayPaginationBigMiddle","displayPaginationBigFinish","concat","$dfaf77c789ce7a24$var$_onBigPaginationBtnClickrRenderFilms","$dh4R1","pageNumber"],"version":3,"file":"index.60823816.js.map"}